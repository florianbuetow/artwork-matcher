# Geometric Service Performance Test Report

## Key Findings

- **Image dimension impact**: 2000x2000 images take 48.6x longer than 100x100 images (113.9 ms vs 2.3 ms)
- **Feature count impact**: 2000 max features takes 1.3x longer than 100 max features
- **Sequential throughput**: 229.2 req/s
- **Best concurrent throughput**: 233.4 req/s (concurrent_16)


## Test Configuration

| Parameter | Value |
|-----------|-------|
| Iterations per test | 30 |
| Feature detector | ORB |
| Matcher | BFMatcher (HAMMING) |
| Verification | RANSAC homography |

## Image Dimension Tests

Measures ORB feature extraction time for different input image sizes.

| Dimensions | File Size | Mean | Std | P50 | P95 | P99 |
|------------|-----------|------|-----|-----|-----|-----|
| 100x100 | 9 KB | 2.3 ms | 6.8 ms | 1.1 ms | 1.4 ms | 28.1 ms |
| 250x250 | 49 KB | 4.5 ms | 0.2 ms | 4.5 ms | 4.9 ms | 5.3 ms |
| 500x500 | 189 KB | 10.9 ms | 1.9 ms | 10.5 ms | 13.8 ms | 18.3 ms |
| 750x750 | 418 KB | 18.8 ms | 0.4 ms | 18.7 ms | 19.4 ms | 19.9 ms |
| 1000x1000 | 741 KB | 31.0 ms | 0.5 ms | 31.0 ms | 31.9 ms | 32.1 ms |
| 1500x1500 | 1670 KB | 66.2 ms | 1.1 ms | 66.5 ms | 68.0 ms | 68.5 ms |
| 2000x2000 | 2951 KB | 113.9 ms | 1.8 ms | 113.7 ms | 115.3 ms | 119.8 ms |

**Analysis:**

- Processing larger images adds ~111.5 ms overhead
- Latency is **consistent** (low standard deviation)


## Feature Count Tests

Measures impact of max_features parameter on extraction time.

| Max Features | Avg Actual | Mean | Std | P50 | P95 | P99 |
|--------------|------------|------|-----|-----|-----|-----|
| 100 | 100 | 18.9 ms | 0.4 ms | 18.9 ms | 19.6 ms | 19.7 ms |
| 250 | 250 | 19.0 ms | 0.3 ms | 18.8 ms | 19.4 ms | 19.5 ms |
| 500 | 490 | 20.2 ms | 0.6 ms | 20.2 ms | 21.0 ms | 21.6 ms |
| 1000 | 961 | 21.2 ms | 0.4 ms | 21.2 ms | 21.8 ms | 21.9 ms |
| 2000 | 1899 | 23.8 ms | 0.4 ms | 23.8 ms | 24.4 ms | 24.4 ms |

**Analysis:**

- Feature count has **minimal impact** on extraction time (ORB is efficient at any scale)


## Match Tests

Measures geometric verification latency for different scenarios.

| Scenario | Mean | Std | P50 | P95 | P99 |
|----------|------|-----|-----|-----|-----|
| extract_only | 5.1 ms | 0.3 ms | 5.1 ms | 5.3 ms | 6.2 ms |
| full_match | 12.2 ms | 0.5 ms | 12.2 ms | 12.9 ms | 13.9 ms |

**Analysis:**

- Feature matching + RANSAC verification adds ~7.1 ms to extraction time


## Throughput Tests

Measures sustained request handling capacity.

| Test | Requests | Duration | Throughput | Mean | P99 |
|------|----------|----------|------------|------|-----|
| sequential | 250 | 1.09 s | **229.2 req/s** | 4.4 ms | 4.7 ms |
| concurrent_2 | 250 | 1.08 s | **231.8 req/s** | 8.6 ms | 13.2 ms |
| concurrent_4 | 248 | 1.07 s | **232.4 req/s** | 17.1 ms | 29.6 ms |
| concurrent_8 | 248 | 1.07 s | **232.6 req/s** | 33.9 ms | 50.8 ms |
| concurrent_16 | 240 | 1.03 s | **233.4 req/s** | 66.3 ms | 86.3 ms |

**Analysis:**

- Sequential baseline: 229.2 req/s
- concurrent_2: no significant speedup (likely CPU-bound)
- concurrent_4: no significant speedup (likely CPU-bound)
- concurrent_8: no significant speedup (likely CPU-bound)
- concurrent_16: no significant speedup (likely CPU-bound)


---

*Report generated by geometric service performance tests.*